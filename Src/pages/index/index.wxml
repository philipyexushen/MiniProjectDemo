<import src="../common/head.wxml" />

<view class="page">
  <image class='background-image' style="width: {{backgroundImageWidth}}px; height: {{backgroundImageHeight}}px;" src="{{backgroundSrc}}" bindload="imageLoad"></image>
  <image class='help_image' src='{{helpImageSrc}}' bindtap='openHelpPage'></image>
  <view class="swiper-tab">
    <view class="swiper-tab-item {{currentTab==0?'active':''}}" data-current="0" bindtap="clickTab">综艺</view>
    <view class="swiper-tab-item {{currentTab==1?'active':''}}" data-current="1" bindtap="clickTab">动漫</view>
    <view class="swiper-tab-item {{currentTab==2?'active':''}}" data-current="2" bindtap="clickTab">影视</view>
  </view>
  <view class="page-body">
    <view class="swiper-page-section">
      <swiper next-margin='35px'
        autoplay="{{autoplay}}" interval="{{interval}}" duration="{{duration}}"
        style="height:286px;">
        <block wx:for="{{background}}" wx:key="*this">
          <swiper-item>
            <view class="swiper-item {{item}}">
              <image class='swiper-item-background' src='{{swiperBackgroundSrc}}' mode="cover"></image>
              <image class='challenge_image' src='{{challangeImageSrc}}' mode="cover" bindtap='openQuesionPage'></image>
              <image class='watch-ranking-list-image' src='{{watchRankingListImageSrc}}' mode="cover" bindtap='openQuesionPage'></image>
            </view>
          </swiper-item>  
        </block>
      </swiper>
    </view>
  </view>
  <view class="userinfo">
    <image bindtap="bindViewTap" class="userinfo-avatar" src="{{userInfo.avatarUrl}}" mode="cover"></image>
    <text class="userinfo-nickname">{{userInfo.nickName}}</text>
  </view>
</view>
